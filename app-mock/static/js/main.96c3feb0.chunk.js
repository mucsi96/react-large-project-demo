(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{19:function(e,t,r){"use strict";(function(e){r(16),r(12),r(9)}).call(this,r(4).Buffer)},3:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return o}));let n=[];const a=function(){const e=new URLSearchParams(window.location.search);return Object.fromEntries([...e.entries()].filter((([e])=>"mock"===e)).map((([,e])=>e.split("--"))))}();Object.keys(a).length;function o(e){n=[...n,...e]}function c(){return n}function s(e){return a[e]}},37:function(e,t,r){},41:function(e,t){},43:function(e,t){},58:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(15),c=r.n(o),s=(r(37),r(32)),i=r.n(s),u=r(33);Object(u.a)(".Button-module_primary__pg7GC {\n  background-color: chocolate;\n  color: white;\n  padding: 10px 20px;\n  border: 1px solid white;\n  border-radius: 10px; }\n\n.Button-module_secondary__2ce5v {\n  background-color: lightskyblue; }\n");var l={primary:"Button-module_primary__pg7GC",secondary:"Button-module_secondary__2ce5v"};const m=({children:e,onClick:t,primary:r,secondary:n})=>a.a.createElement("button",{type:"button",onClick:t,className:i()({[l.primary]:r,[l.secondary]:n})},e);var d=r(61);async function p(){return await async function(e,t={}){const{method:r,headers:n,body:a}=t;try{return(await Object(d.a)({url:e,...r&&{method:r},...a&&{body:a},headers:{...n,"Content-Type":"application/json"}}).toPromise()).response}catch(o){const e=o;throw{message:e.message,response:e.response,status:e.status}}}("/api/friends")}var h=r(3),f=r(9),y=r(11);async function g(){navigator.serviceWorker.register("mockApiServiceWorker.js",{scope:"./"}).catch((e=>console.error("error registering sw",e))),await new Promise((e=>{navigator.serviceWorker.onmessage=({data:t})=>{t&&"READY"===t.type&&(console.log("SW is ready. Registered mocks",Object(h.b)()),e())}})),navigator.serviceWorker.onmessage=({data:e,ports:t})=>{if(e&&"REQUEST"===e.type)return async function({url:e,method:t,body:r,headers:n,port:a}){const o=new URL(e),{match:c,mock:s}=function(e,t){const r=Object(h.b)().map((e=>{const t=[];return{regexp:Object(y.a)(e.path,t),keys:t.map((e=>e.name)),...e}})).find((r=>r.regexp.test(e.pathname)&&(r.method||"GET")===t));return{match:r&&r.regexp.exec(e.pathname),mock:r}}(o,t);if(!c||!s)return a.postMessage({type:"MOCK_NOT_FOUND"});const i=await Object(f.a)({mock:s,match:c,method:t,headers:n,url:o,body:r});a.postMessage({response:i,type:"MOCK_SUCCESS"})}({...e.request,port:t[0]})}}const b=({children:e})=>{const[t,r]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{g().then((()=>r(!0))).catch((e=>r((()=>{throw e}))))}),[]),t?a.a.createElement(a.a.Fragment,null,e):null};r(19),r(17);var E=[{firstName:"Alyson",lastName:"Donnelly"},{firstName:"Carlee",lastName:"Kreiger"},{firstName:"Enrico",lastName:"Pouros"}];const k=()=>{var e,t,r;const o=function(e){const[t,r]=Object(n.useState)(),[a,o]=Object(n.useState)(),[c,s]=Object(n.useState)(!1),i=Object(n.useMemo)((()=>({fetch(...t){s(!0),e(...t).then(r).catch(o).finally((()=>s(!1)))}})),[e]);return Object.assign(i,{data:t,error:a,isLoading:c})}(p);if(Object(n.useEffect)((()=>{o.fetch()}),[o]),o.error){const r=`${(null===(t=null===(e=o.error.response)||void 0===e?void 0:e.error)||void 0===t?void 0:t.message)||""}. Status: ${o.error.status||""}`;return a.a.createElement("span",null,r)}return o.isLoading?a.a.createElement("span",null,"Loading..."):(null===(r=o.data)||void 0===r?void 0:r.length)?a.a.createElement("ul",null,o.data.map((({firstName:e,lastName:t})=>{const r=[e,t].join(" ");return a.a.createElement("li",{key:r,"data-name":"name"},r)}))):a.a.createElement("span",null,"No friends found :(")};r(58);var v=r.p+"static/media/logo.2d27ead7.svg";var O=()=>a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:v,className:"App-logo",alt:"logo"}),a.a.createElement("p",null,"Edit ",a.a.createElement("code",null,"src/App.tsx")," and save to reload."),a.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(m,{primary:!0},"Learn React"),a.a.createElement(k,null))));let j=a.a.createElement(O,null);Object(h.c)([{path:"/api/friends",callback:(e,t)=>{switch(Object(h.a)("friends")){case"empty":return[];case"failure":return t.mockError(!0);case"slow":return t.delay(5e3),E;default:return E}}}]),j=a.a.createElement(b,null,j),c.a.render(a.a.createElement(a.a.StrictMode,null,j),document.getElementById("root"))},9:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));var n=r(11),a=r(3);async function o({mock:e,match:t,url:r,method:n,body:a,headers:o}){let c,u=200,l=!1,m=!1,d=await e.callback({url:r.pathname,method:n,headers:o,body:a&&JSON.parse(a),params:s(t,e),query:i(r.searchParams)},{status(e){u=e},delay(e){c=e},mockError(e){l=e},mockHTML(e){m=e}});return l&&(d={error:{message:"We couldn't process your request at this time"}}),c&&await new Promise((e=>window.setTimeout(e,c))),{body:m?"<html></html>":d&&JSON.stringify(d),status:l?500:u}}function c(e,t){const r=Object(a.b)().map((e=>{const t=[];return{regexp:Object(n.a)(e.path,t),keys:t.map((e=>e.name)),...e}})).find((r=>r.regexp.test(e.pathname)&&(r.method||"GET")===t));return{match:r&&r.regexp.exec(e.pathname),mock:r}}function s(e,t){return e.reduce(((e,r,n)=>{const a=t.keys[n-1];return a?(void 0===r&&a in e||(e[a]=r),e):e}),{})}function i(e){const t={};return e.forEach(((e,r)=>{Array.isArray(t[r])?t[r]=[...t[r],e]:t[r]?t[r]=[t[r],e]:t[r]=e})),t}}},[[59,1,2]]]);
//# sourceMappingURL=main.96c3feb0.chunk.js.map